---
title: "God Hates Rich People"
author: "Nik Počuča"
date: "July 23, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
```

A self-study on extreme weather events locations vs Low/High Income locations. 

## Introduction 

Extreme weather events in the U.S. are regularly tracked by the National Oceanic and Atomspheric Administration (NOAA).

The NCDC Storm Events database is provided by the National Weather Service (NWS) and contain statistics on personal injuries and damage estimates. (ref. gov.noaa.ncdc:C00510). 

#### The question is, are high-income or low-income households suseptible to extreme weather events? 

The US Household Income dataset provided by Golden Oak Research Group contains 32,000 records on US Household Income Statistics & Geo Locations. The dataset originally developed for real estate and business investment research. Income is a vital element when determining both quality and socioeconomic features of a given geographic location. (ref. Golden Oak Research Group, LLC. “U.S. Income Database Kaggle”. Publication: 5, August 2017.)

## Preliminary Analysis 

```{r}
## Loading packages
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)

## Loading csv data. 
strmEvents <- read.csv("StormEvents_locations-ftp_v1.0_d2014_c20180718.csv")

incomeKag <- read.csv("kaggle_income.csv")


# load U.S, map and plot extreme events. 
usa <- map_data("usa")
gg1 <- ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) + 
  coord_fixed(1.3)

# I need to only get mainland U.S. 
onlyUS <- subset(strmEvents, (LONGITUDE > -140 & LONGITUDE < -50 & LATITUDE < 50 & 20 < LATITUDE ))

# Coordinate data preperation for plotting. 
corStrmEvents <- data.frame(lat = onlyUS$LATITUDE,
                            long = onlyUS$LONGITUDE,
                            names = onlyUS$EVENT_ID,
                            stringsAsFactors = FALSE)

# Plotting
gg1 + 
  geom_point(data = corStrmEvents, 
             aes(x = long, y = lat), color = "red", size = exp(-100))

```

As we can see extreme weather events span the entire mainland U.S. Majority of the events are held along the eastern seaboard. 
